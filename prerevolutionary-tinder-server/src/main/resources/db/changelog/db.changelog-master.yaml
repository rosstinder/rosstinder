create schema rosstinder authorization admin;

create sequence rosstinder.user_id_sequence
  start with 1
  increment by 1
  no minvalue
  no maxvalue
  cache 1;

create sequence rosstinder.like_id_sequence
  start with 1
  increment by 1
  no minvalue
  no maxvalue
  cache 1;

create table if not exists rosstinder.users (
  id            bigint NOT NULL primary key default nextval('rosstinder.user_id_sequence'),
  chat_id       bigint NOT NULL,
  username      varchar[50] NOT NULL,
  gender        varchar[10],
  name          varchar[50],
  title         varchar[100],
  description   varchar[500],
  preference    varchar[10]
);

create table if not exists rosstinder.likes (
  id            bigint NOT NULL primary key default nextval('rosstinder.like_id_sequence'),
  who           bigint NOT NULL,
  whom          bigint NOT NULL,
  is_like       bool
);

insert into table rosstinder.users
  (chat_id, username, gender, name, title, description, preference)
values
  (1, 'user1', 'Сударъ', 'Некто', 'Интеллигентный', 'Одинокий купец, 37 лет, имеет около двадцати лет большое торговое дело. Ежегодный оборот около ста тысяч рублей, желает познакомиться в целях брака, с барышней или вдовой не старше 30 лет. Предпочитаю брюнетку высокого роста, полную, с капиталом. Предложение серьезное.', 'Сударыня'),
  (2, 'user2', 'Сударыня', 'Никто', 'Желаю выйти замуж', 'Брюнетка, выше среднего роста, стройная, неполная, 25 л., интеллигентная, говорят очень недурненькая, но бедна, приданого нет. Надоело одиночество в Сибири, хочется выйти замуж в России или на Кавказе за господина, способного и мне оказать материальную помощь. Буду любящей преданной женой. Люблю семью и хозяйство. Ищущих приключений и любопытных прошу не беспокоиться. Таким не отвечу.', 'Сударъ'),
  (3, 'user3', 'Сударыня', 'Нечто', 'Явись', 'ко мне мужем, другом, товарищем, не моложе 40 лет, состоятельный, добрый человек. Осчастливлю, согрею твою одинокую жизнь. Вдова, 32 лет, интеллигентная армянка высоконрав., интересная. Жажду идеальной любви. Томлюсь душевным одиночеством. Анонимам не отвечу. Цель - замужество. Тайну переписки гарантирую честным словом.', 'Все');

insert into table rosstinder.likes
  (who, whom)
values
  (1, 3),
  (2, 1),
  (3, 1);
